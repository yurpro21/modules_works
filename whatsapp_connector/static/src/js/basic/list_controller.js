odoo.define("whatsapp_connector.ListController",(function(require){"use strict";var core=require("web.core"),ListController=require("web.ListController"),_t=core._t;return ListController.include({renderButtons:function($node){let out=this._super($node);return this.renderer.state.context.chatroom_wizard_search&&$node&&($node.html(`<button type="button" class="btn btn-primary btn-chatroom-wizard-select">${_t("Select")}</button>`),$node.find(".btn-chatroom-wizard-select").attr("disabled","disabled"),$node.find(".btn-chatroom-wizard-select").click(this._chatroomSelectRow.bind(this)),this.$acrux_footer=$node),out},_onSelectionChanged:function(event){this._super(event),this.renderer.state.context.chatroom_wizard_search&&(this.selectedRecords&&1==this.selectedRecords.length?this.$acrux_footer.find(".btn-chatroom-wizard-select").removeAttr("disabled"):this.$acrux_footer.find(".btn-chatroom-wizard-select").attr("disabled","disabled"))},_chatroomSelectRow:function(event){if(event.preventDefault(),this.selectedRecords&&1==this.selectedRecords.length){const record=this.model.get(this.selectedRecords[0],{env:!1});record&&this.getParent().props.viewParams.action._chatroomSelectRecord(record)}},_onOpenRecord:function(ev){this.renderer.state.context.chatroom_wizard_search?ev.stopPropagation():this._super(ev)}}),ListController}));